<ion-header>
  <ion-toolbar>
    <ion-title>
      <p>Student SignUp</p>
    </ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <form [formGroup]="subjectForm" (ngSubmit)="onSubmit(subjectForm.value)">
    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label> Name: </ion-label>
        <ion-input formControlName="name" type="text" palceholder="type your name"></ion-input>
      </ion-item>
      <div *ngIf="subjectForm.controls['name'].invalid && subjectForm.controls['name'].touched"
      class="alert alert-danger">
      Enter Valid Name
    </div>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="12">
        <ion-list-header>
          <ion-label><b>Subject</b></ion-label>
        </ion-list-header>
        <div formArrayName="subject">
          <div *ngFor="let subjectGroup of subject?.controls; let i = index" [formGroupName]="i">
            <ion-button (click)="removesubject(i)" *ngIf="i > 0" color="danger">
              <ion-icon name='close-circle-outline' color="light"></ion-icon>
            </ion-button>
            <input type="text" formControlName="subjectname" placeholder="Subjectname" />
            <input type="number" formControlName="marks" placeholder=" Enter marks" />
            <ion-button (click)="addSubjects()">
              <ion-icon name='add-circle-outline' width="200" height="200"></ion-icon>
            </ion-button>
          </div>
        </div>      
      </ion-col>
    </ion-row>
    <ion-col size="12">
      <ion-button type="submit" color="danger" expand="block">Submit</ion-button>
    </ion-col>
  </form>
</ion-content>
<ion-footer>
  <ion-row>
    <ion-button [routerLink]="['/view']" fill="clear" expand="block"> Show Student Result</ion-button>
  </ion-row>
</ion-footer>